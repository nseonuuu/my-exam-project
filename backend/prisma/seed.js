const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// âœï¸  ì •ë‹µ ë°ì´í„° â€” ì‹¤ì œ ê¸°ì¶œ ì •ë‹µìœ¼ë¡œ êµì²´í•˜ì„¸ìš”
//     ë°°ì—´ ìˆœì„œ = 1ë²ˆ~40ë²ˆ ë¬¸í•­ ì •ë‹µ (1~5 ìˆ«ìž)
//
//  ì§€ì› ì‹œí—˜ ì¢…ë¥˜ (category):
//    '5ê¸‰ ê³µì±„' | '7ê¸‰ ê³µì±„' | 'ìž…ë²•ê³ ì‹œ' | 'ì™¸êµê´€í›„ë³´ìž' | ê¸°íƒ€ ìžìœ  ìž…ë ¥
//
//  ê³¼ëª©ëª…ì€ ì‹œí—˜ë³„ë¡œ ë‹¤ë¥¼ ìˆ˜ ìžˆìœ¼ë¯€ë¡œ ìžìœ ë¡­ê²Œ ìž…ë ¥
//  ì±…í˜•ì´ ì—†ëŠ” ì‹œí—˜ì€ booklet: 'ë‹¨ì¼' ë¡œ ìž…ë ¥ (ë“œë¡­ë‹¤ìš´ì—ì„œ ìˆ¨ê¹€ ì²˜ë¦¬ë¨)
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
const EXAM_DATA = [
  // â”€â”€ 5ê¸‰ ê³µì±„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    category: '5ê¸‰ ê³µì±„',
    year: 2024,
    subjects: [
      {
        name: 'ì–¸ì–´ë…¼ë¦¬', booklet: 'ê°€', passingScore: 80,
        answers: [3, 2, 1, 4, 5, 3, 2, 1, 4, 5,
                  3, 2, 1, 4, 5, 3, 2, 1, 4, 5,
                  3, 2, 1, 4, 5, 3, 2, 1, 4, 5,
                  3, 2, 1, 4, 5, 3, 2, 1, 4, 5],
      },
      {
        name: 'ì–¸ì–´ë…¼ë¦¬', booklet: 'ë‚˜', passingScore: 80,
        answers: [5, 4, 3, 2, 1, 5, 4, 3, 2, 1,
                  5, 4, 3, 2, 1, 5, 4, 3, 2, 1,
                  5, 4, 3, 2, 1, 5, 4, 3, 2, 1,
                  5, 4, 3, 2, 1, 5, 4, 3, 2, 1],
      },
      {
        name: 'ìžë£Œí•´ì„', booklet: 'ê°€', passingScore: 80,
        answers: [1, 3, 2, 5, 4, 1, 3, 2, 5, 4,
                  1, 3, 2, 5, 4, 1, 3, 2, 5, 4,
                  1, 3, 2, 5, 4, 1, 3, 2, 5, 4,
                  1, 3, 2, 5, 4, 1, 3, 2, 5, 4],
      },
      {
        name: 'ìžë£Œí•´ì„', booklet: 'ë‚˜', passingScore: 80,
        answers: [4, 2, 5, 1, 3, 4, 2, 5, 1, 3,
                  4, 2, 5, 1, 3, 4, 2, 5, 1, 3,
                  4, 2, 5, 1, 3, 4, 2, 5, 1, 3,
                  4, 2, 5, 1, 3, 4, 2, 5, 1, 3],
      },
      {
        name: 'ìƒí™©íŒë‹¨', booklet: 'ê°€', passingScore: 80,
        answers: [2, 4, 1, 3, 5, 2, 4, 1, 3, 5,
                  2, 4, 1, 3, 5, 2, 4, 1, 3, 5,
                  2, 4, 1, 3, 5, 2, 4, 1, 3, 5,
                  2, 4, 1, 3, 5, 2, 4, 1, 3, 5],
      },
      {
        name: 'ìƒí™©íŒë‹¨', booklet: 'ë‚˜', passingScore: 80,
        answers: [5, 1, 4, 2, 3, 5, 1, 4, 2, 3,
                  5, 1, 4, 2, 3, 5, 1, 4, 2, 3,
                  5, 1, 4, 2, 3, 5, 1, 4, 2, 3,
                  5, 1, 4, 2, 3, 5, 1, 4, 2, 3],
      },
    ],
  },

  // â”€â”€ 7ê¸‰ ê³µì±„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    category: '7ê¸‰ ê³µì±„',
    year: 2024,
    subjects: [
      {
        name: 'ì–¸ì–´ë…¼ë¦¬', booklet: 'ê°€', passingScore: 60,
        answers: [1, 2, 3, 4, 5, 1, 2, 3, 4, 5,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  1, 2, 3, 4, 5, 1, 2, 3, 4, 5,
                  1, 2, 3, 4, 5, 1, 2, 3, 4, 5,
                  1, 2, 3, 4, 5, 1, 2, 3, 4, 5],
      },
      {
        name: 'ì–¸ì–´ë…¼ë¦¬', booklet: 'ë‚˜', passingScore: 60,
        answers: [5, 4, 3, 2, 1, 5, 4, 3, 2, 1,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  5, 4, 3, 2, 1, 5, 4, 3, 2, 1,
                  5, 4, 3, 2, 1, 5, 4, 3, 2, 1,
                  5, 4, 3, 2, 1, 5, 4, 3, 2, 1],
      },
      {
        name: 'ìžë£Œí•´ì„', booklet: 'ê°€', passingScore: 60,
        answers: [3, 1, 4, 2, 5, 3, 1, 4, 2, 5,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  3, 1, 4, 2, 5, 3, 1, 4, 2, 5,
                  3, 1, 4, 2, 5, 3, 1, 4, 2, 5,
                  3, 1, 4, 2, 5, 3, 1, 4, 2, 5],
      },
      {
        name: 'ìžë£Œí•´ì„', booklet: 'ë‚˜', passingScore: 60,
        answers: [2, 5, 1, 3, 4, 2, 5, 1, 3, 4,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  2, 5, 1, 3, 4, 2, 5, 1, 3, 4,
                  2, 5, 1, 3, 4, 2, 5, 1, 3, 4,
                  2, 5, 1, 3, 4, 2, 5, 1, 3, 4],
      },
      {
        name: 'ìƒí™©íŒë‹¨', booklet: 'ê°€', passingScore: 60,
        answers: [4, 3, 5, 1, 2, 4, 3, 5, 1, 2,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  4, 3, 5, 1, 2, 4, 3, 5, 1, 2,
                  4, 3, 5, 1, 2, 4, 3, 5, 1, 2,
                  4, 3, 5, 1, 2, 4, 3, 5, 1, 2],
      },
      {
        name: 'ìƒí™©íŒë‹¨', booklet: 'ë‚˜', passingScore: 60,
        answers: [1, 5, 2, 4, 3, 1, 5, 2, 4, 3,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  1, 5, 2, 4, 3, 1, 5, 2, 4, 3,
                  1, 5, 2, 4, 3, 1, 5, 2, 4, 3,
                  1, 5, 2, 4, 3, 1, 5, 2, 4, 3],
      },
    ],
  },

  // â”€â”€ ìž…ë²•ê³ ì‹œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    category: 'ìž…ë²•ê³ ì‹œ',
    year: 2024,
    subjects: [
      {
        name: 'ì–¸ì–´ë…¼ë¦¬', booklet: 'ê°€', passingScore: 80,
        answers: [2, 3, 5, 1, 4, 2, 3, 5, 1, 4,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  2, 3, 5, 1, 4, 2, 3, 5, 1, 4,
                  2, 3, 5, 1, 4, 2, 3, 5, 1, 4,
                  2, 3, 5, 1, 4, 2, 3, 5, 1, 4],
      },
      {
        name: 'ì–¸ì–´ë…¼ë¦¬', booklet: 'ë‚˜', passingScore: 80,
        answers: [4, 1, 3, 5, 2, 4, 1, 3, 5, 2,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  4, 1, 3, 5, 2, 4, 1, 3, 5, 2,
                  4, 1, 3, 5, 2, 4, 1, 3, 5, 2,
                  4, 1, 3, 5, 2, 4, 1, 3, 5, 2],
      },
      {
        name: 'ìžë£Œí•´ì„', booklet: 'ê°€', passingScore: 80,
        answers: [5, 2, 4, 3, 1, 5, 2, 4, 3, 1,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  5, 2, 4, 3, 1, 5, 2, 4, 3, 1,
                  5, 2, 4, 3, 1, 5, 2, 4, 3, 1,
                  5, 2, 4, 3, 1, 5, 2, 4, 3, 1],
      },
      {
        name: 'ìžë£Œí•´ì„', booklet: 'ë‚˜', passingScore: 80,
        answers: [3, 4, 1, 2, 5, 3, 4, 1, 2, 5,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  3, 4, 1, 2, 5, 3, 4, 1, 2, 5,
                  3, 4, 1, 2, 5, 3, 4, 1, 2, 5,
                  3, 4, 1, 2, 5, 3, 4, 1, 2, 5],
      },
      {
        name: 'ìƒí™©íŒë‹¨', booklet: 'ê°€', passingScore: 80,
        answers: [1, 4, 2, 5, 3, 1, 4, 2, 5, 3,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  1, 4, 2, 5, 3, 1, 4, 2, 5, 3,
                  1, 4, 2, 5, 3, 1, 4, 2, 5, 3,
                  1, 4, 2, 5, 3, 1, 4, 2, 5, 3],
      },
      {
        name: 'ìƒí™©íŒë‹¨', booklet: 'ë‚˜', passingScore: 80,
        answers: [3, 5, 2, 4, 1, 3, 5, 2, 4, 1,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  3, 5, 2, 4, 1, 3, 5, 2, 4, 1,
                  3, 5, 2, 4, 1, 3, 5, 2, 4, 1,
                  3, 5, 2, 4, 1, 3, 5, 2, 4, 1],
      },
    ],
  },

  // â”€â”€ ì™¸êµê´€í›„ë³´ìž â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    category: 'ì™¸êµê´€í›„ë³´ìž',
    year: 2024,
    subjects: [
      {
        name: 'ì–¸ì–´ë…¼ë¦¬', booklet: 'ê°€', passingScore: 80,
        answers: [4, 5, 2, 1, 3, 4, 5, 2, 1, 3,  // âœï¸ ì‹¤ì œ ì •ë‹µìœ¼ë¡œ êµì²´
                  4, 5, 2, 1, 3, 4, 5, 2, 1, 3,
                  4, 5, 2, 1, 3, 4, 5, 2, 1, 3,
                  4, 5, 2, 1, 3, 4, 5, 2, 1, 3],
      },
      // âœï¸ ë‚˜ë¨¸ì§€ ê³¼ëª©/ì±…í˜• ë™ì¼í•œ í˜•ì‹ìœ¼ë¡œ ì¶”ê°€...
    ],
  },
];

// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// ì´í•˜ ìˆ˜ì • ë¶ˆí•„ìš”
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
async function main() {
  for (const examData of EXAM_DATA) {
    let exam = await prisma.exam.findFirst({
      where: { category: examData.category, year: examData.year },
    });
    if (!exam) {
      exam = await prisma.exam.create({
        data: { category: examData.category, year: examData.year },
      });
    }

    for (const s of examData.subjects) {
      if (s.answers.length !== 40) {
        throw new Error(
          `âŒ ${examData.year}ë…„ ${s.name} ${s.booklet}í˜•: ì •ë‹µ ë°°ì—´ì´ 40ê°œì—¬ì•¼ í•©ë‹ˆë‹¤. (í˜„ìž¬ ${s.answers.length}ê°œ)`
        );
      }

      const existing = await prisma.subject.findUnique({
        where: { examId_name_booklet: { examId: exam.id, name: s.name, booklet: s.booklet } },
      });
      if (existing) {
        console.log(`â­ï¸  ì´ë¯¸ ì¡´ìž¬: ${examData.year}ë…„ ${s.name} ${s.booklet}í˜• â€” ê±´ë„ˆëœ€`);
        continue;
      }

      const subject = await prisma.subject.create({
        data: { examId: exam.id, name: s.name, booklet: s.booklet, passingScore: s.passingScore },
      });

      await prisma.question.createMany({
        data: s.answers.map((answer, i) => ({
          subjectId: subject.id,
          questionNumber: i + 1,
          correctAnswer: answer,
        })),
      });

      console.log(`âœ… ${examData.year}ë…„ ${examData.category} - ${s.name} ${s.booklet}í˜• ìž…ë ¥ ì™„ë£Œ`);
    }
  }
  console.log('\nðŸŽ‰ Seed ì™„ë£Œ!');
}

main()
  .catch((e) => { console.error(e); process.exit(1); })
  .finally(() => prisma.$disconnect());
